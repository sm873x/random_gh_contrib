{"version":3,"sources":["../../src/js/app.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(ns) {\n    'use strict';\n\n    window.app = ns = ( ns || {} );\n    ns.contribArr = [];\n\n    window.addEventListener( 'load', function() {\n        console.log('load');\n        if (!(JSON.parse(localStorage.getItem('contributors')))) {\n            return;\n        }\n                \n        ns.contribArr = JSON.parse(localStorage.getItem('contributors'));\n\n        console.log(ns.contribArr);\n        ns.contribArr.forEach(function getContributors(author, i) {\n            $('#contributors ul')\n                .append('<li class=' + author.name + '>' + author.name + '</li>\\\n                        <img src=' + author.avatar + '>');\n        });\n\n    });\n\n    $('#search').on('submit', function findContributor(e) {\n        console.log('start');\n        e.preventDefault();\n\n        ns.token = $('#api-key').val();\n        ns.query = $('#query').val();\n\n        console.log('token', ns.token);\n\n        getRepos(ns.token, ns.query)\n            .then(function(repos) {\n                console.log(repos);\n                var chosenRepo = getRandoRepo(repos);\n\n                console.log(chosenRepo);\n                return getCommits(chosenRepo);\n            })\n            .then(function(commits) {\n                console.log(commits);\n\n                var chosenCommit = getRandoCommit(commits);\n                console.log(chosenCommit);\n\n                dispAuthor(chosenCommit);\n\n                var contribList = {name: ns.author, avatar: ns.avatar};\n                ns.contribArr.push(contribList);\n                // localStorage.setItem('contributors', JSON.stringify(contribList));\n                localStorage.setItem('contributors', JSON.stringify(ns.contribArr));\n            });\n\n    });\n\n    function getRepos(token, query) {\n        return $.ajax({\n            url: 'https://api.github.com/search/repositories?q=' + query,\n            method: 'get',\n            headers: {\n                'Authorization': 'token ' + token\n            },\n            dataType: 'json'\n        });\n    }\n\n    function getRandoRepo(data) {\n        var repoArr = data.items;\n        return repoArr[Math.floor(Math.random() * repoArr.length)];\n    }\n\n    function getCommits(repo) {\n        return $.ajax({\n            url: 'https://api.github.com/repos/' + repo.owner.login + '/' + repo.name + '/commits',\n            method: 'get',\n            headers: {\n                'Authorization': 'token ' + ns.token\n            },\n            dataType: 'json'\n        });\n    }\n\n    function getRandoCommit(data) {\n        var commitArr = data;\n        return commitArr[Math.floor(Math.random() * commitArr.length)];\n    }\n\n    function dispAuthor(commitData) {\n        ns.author = commitData.author.login;\n        ns.avatar = commitData.author.avatar_url;\n\n        $('#contributors ul')\n            .append('<li class=' + ns.author + '>' + ns.author + '</li>\\\n                    <img src=' + ns.avatar + '>');\n    }\n\n})(window.app);\n\n\n// e.preventDefault();\n//\n// $.ajax('https://api.github.com/search/repositories?q=tracker')\n// .then(function(data) { console.log(data); return $.ajax('https://api.github.com/repos/antonioribeiro/tracker/commits'); })\n// .then(function(data) { console.log(data); });\n"]}