{"version":3,"sources":["../../src/js/app.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(ns) {\n    'use strict';\n\n    window.app = ns = ( ns || {} );\n    ns.contribArr = [];\n\n    window.addEventListener( 'load', function loadPrevContrib() {\n        console.log('load');\n\n        if (!(JSON.parse(localStorage.getItem('contributors')))) {\n            return;\n        }\n\n        ns.contribArr = JSON.parse(localStorage.getItem('contributors'));\n        console.log(ns.contribArr);\n\n        ns.contribArr.forEach(function getContributors(author) {\n            $('#contributors ul')\n                .append('<li class=' + author.name + '>' + author.name + '</li>\\\n                        <img src=' + author.avatar + '>');\n        });\n\n    });\n\n    $('#search').on('submit', function findContributor(e) {\n        console.log('start');\n        e.preventDefault();\n\n        ns.token = $('#api-key').val();\n        ns.query = $('#query').val();\n\n        console.log('token', ns.token);\n\n        getRepos(ns.token, ns.query)\n            .then(function retrieveRepos(repos) {\n                console.log(repos);\n                var chosenRepo = getRandoRepo(repos);\n\n                console.log(chosenRepo);\n                return getCommits(chosenRepo);\n            })\n            .then(function retrieveCommits(commits) {\n                console.log(commits);\n\n                var chosenCommit = getRandoCommit(commits);\n                console.log(chosenCommit);\n\n                dispAuthor(chosenCommit);\n\n                var contribList = {name: ns.author, avatar: ns.avatar};\n                ns.contribArr.push(contribList);\n                localStorage.setItem('contributors', JSON.stringify(ns.contribArr));\n            });\n\n    });\n\n    /**\n     * Get repos from github with specific query\n     * @param  {String} token Personal access token\n     * @param  {String} query Search term\n     * @return {Promise} JQuery XHR Object that implements promise methods\n     */\n    function getRepos(token, query) {\n        return $.ajax({\n            url: 'https://api.github.com/search/repositories?q=' + query + '=desc',\n            method: 'get',\n            headers: {\n                'Authorization': 'token ' + token\n            },\n            dataType: 'json'\n        });\n    }\n\n    /**\n     * Select random repo\n     * @param  {Object} data Array-like object of repos\n     * @return {Object}     Selected repo\n     */\n    function getRandoRepo(data) {\n        var repoArr = data.items;\n        return repoArr[Math.floor(Math.random() * repoArr.length)];\n    }\n\n    /**\n     * Get all commits from repo\n     * @param  {Object} repo Selected repo\n     * @return {Promise} JQuery XHR Object that implements promise methods\n     */\n    function getCommits(repo) {\n        return $.ajax({\n            url: 'https://api.github.com/repos/' + repo.owner.login + '/' + repo.name + '/commits',\n            method: 'get',\n            headers: {\n                'Authorization': 'token ' + ns.token\n            },\n            dataType: 'json'\n        });\n    }\n\n    /**\n     * Select random commit\n     * @param  {Array} data Array of commits\n     * @return {Object}     Selected commit\n     */\n    function getRandoCommit(data) {\n        var commitArr = data;\n        return commitArr[Math.floor(Math.random() * commitArr.length)];\n    }\n\n    /**\n     * Display commit author username and avatar img\n     * @param  {Object} commitData Selected commit\n     * @return {void}          \n     */\n    function dispAuthor(commitData) {\n        ns.author = commitData.author.login;\n        ns.avatar = commitData.author.avatar_url;\n\n        $('#contributors ul')\n            .append('<li class=' + ns.author + '>' + ns.author + '</li>\\\n                    <img src=' + ns.avatar + '>');\n    }\n\n})(window.app);\n"]}